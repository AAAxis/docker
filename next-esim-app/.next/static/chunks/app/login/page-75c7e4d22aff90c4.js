(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},142:(e,t,r)=>{Promise.resolve().then(r.bind(r,5718))},532:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},686:(e,t,r)=>{"use strict";r.d(t,{Cn:()=>m,db:()=>d,j2:()=>u});var a=r(2078),s=r(1328),l=r(9708),i=r(9996),n=r(6849),o=r(4663);let c=(0,a.Wp)({apiKey:"AIzaSyAl456JTQntXJItbXSv8hx1oQ9KW4BGci4",authDomain:"esim-f0e3e.firebaseapp.com",projectId:"esim-f0e3e",storageBucket:"esim-f0e3e.firebasestorage.app",messagingSenderId:"482450515497",appId:"1:482450515497:web:08533fb9536c8e6aa39e38",measurementId:"G-T0YBW024Z8"}),u=(0,s.xI)(c),d=(0,l.aU)(c);(0,i.c7)(c);let m=(0,n.Uz)(c);(0,o.TT)().then(e=>{e?((0,o.P5)(c),console.log("✅ Firebase Analytics initialized")):console.log("⚠️ Firebase Analytics not supported in this environment")}).catch(e=>{console.log("⚠️ Firebase Analytics initialization failed:",e)})},3664:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},5718:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var a=r(5155),s=r(2115),l=r(2619),i=r.n(l),n=r(63),o=r(6809),c=r(4486),u=r(3664),d=r(7327),m=r(532),h=r(7828),y=r(2663);let x=()=>{let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[x,p]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),{login:g}=(0,o.A)(),w=(0,n.useRouter)(),v=async t=>{if(t.preventDefault(),!e||!r)return void y.Ay.error("Please fill in all fields");try{b(!0),await g(e,r),y.Ay.success("Login successful!"),w.push("/dashboard")}catch(e){console.error("Login error:",e),y.Ay.error(e.message||"Failed to login")}finally{b(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,a.jsx)(i(),{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),(0,a.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:v,children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsxs)("div",{className:"mt-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>l(e.target.value),className:"appearance-none relative block w-full pl-10 pr-10 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!x),children:x?(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400"}):(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)(i(),{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Sign in"})})]})]})})}},6809:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,O:()=>u});var a=r(5155),s=r(2115),l=r(1328),i=r(9708),n=r(686);let o=(0,s.createContext)();function c(){return(0,s.useContext)(o)}function u(e){let{children:t}=e,[r,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),[m,h]=(0,s.useState)(null);async function y(e,t,r){try{let{user:a}=await (0,l.eJ)(n.j2,e,t);return await (0,l.r7)(a,{displayName:r}),await (0,i.BN)((0,i.doc)(n.db,"users",a.uid),{email:a.email,displayName:r,createdAt:new Date,role:"customer",wallet:{balance:0,currency:"USD"}}),a}catch(e){throw e}}async function x(e,t){try{let{user:r}=await (0,l.x9)(n.j2,e,t);return r}catch(e){throw e}}async function p(){try{await (0,l.CI)(n.j2)}catch(e){throw e}}async function f(e){try{await (0,l.J1)(n.j2,e)}catch(e){throw e}}async function b(e){try{r&&(await (0,i.BN)((0,i.doc)(n.db,"users",r.uid),e,{merge:!0}),h(t=>({...t,...e})))}catch(e){throw e}}async function g(){if(r)try{let e=await (0,i.getDoc)((0,i.doc)(n.db,"users",r.uid));e.exists()&&h(e.data())}catch(e){console.error("Error loading user profile:",e)}}return(0,s.useEffect)(()=>(0,l.hg)(n.j2,async e=>{c(e),e?await g():h(null),d(!1)}),[]),(0,a.jsx)(o.Provider,{value:{currentUser:r,userProfile:m,signup:y,login:x,logout:p,resetPassword:f,updateUserProfile:b,loadUserProfile:g},children:!u&&t})}},7327:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},7828:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{e.O(0,[135,210,584,416,619,663,441,255,358],()=>e(e.s=142)),_N_E=e.O()}]);