(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{63:(e,t,a)=>{"use strict";var r=a(7260);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},508:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},532:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},686:(e,t,a)=>{"use strict";a.d(t,{Cn:()=>m,db:()=>d,j2:()=>u});var r=a(2078),s=a(1328),l=a(9708),o=a(9996),n=a(6849),i=a(4663);let c=(0,r.Wp)({apiKey:"AIzaSyAl456JTQntXJItbXSv8hx1oQ9KW4BGci4",authDomain:"esim-f0e3e.firebaseapp.com",projectId:"esim-f0e3e",storageBucket:"esim-f0e3e.firebasestorage.app",messagingSenderId:"482450515497",appId:"1:482450515497:web:08533fb9536c8e6aa39e38",measurementId:"G-T0YBW024Z8"}),u=(0,s.xI)(c),d=(0,l.aU)(c);(0,o.c7)(c);let m=(0,n.Uz)(c);(0,i.TT)().then(e=>{e?((0,i.P5)(c),console.log("✅ Firebase Analytics initialized")):console.log("⚠️ Firebase Analytics not supported in this environment")}).catch(e=>{console.log("⚠️ Firebase Analytics initialization failed:",e)})},3664:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},6809:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>u});var r=a(5155),s=a(2115),l=a(1328),o=a(9708),n=a(686);let i=(0,s.createContext)();function c(){return(0,s.useContext)(i)}function u(e){let{children:t}=e,[a,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(!0),[m,y]=(0,s.useState)(null);async function x(e,t,a){try{let{user:r}=await (0,l.eJ)(n.j2,e,t);return await (0,l.r7)(r,{displayName:a}),await (0,o.BN)((0,o.doc)(n.db,"users",r.uid),{email:r.email,displayName:a,createdAt:new Date,role:"customer",wallet:{balance:0,currency:"USD"}}),r}catch(e){throw e}}async function h(e,t){try{let{user:a}=await (0,l.x9)(n.j2,e,t);return a}catch(e){throw e}}async function p(){try{await (0,l.CI)(n.j2)}catch(e){throw e}}async function f(e){try{await (0,l.J1)(n.j2,e)}catch(e){throw e}}async function b(e){try{a&&(await (0,o.BN)((0,o.doc)(n.db,"users",a.uid),e,{merge:!0}),y(t=>({...t,...e})))}catch(e){throw e}}async function g(){if(a)try{let e=await (0,o.getDoc)((0,o.doc)(n.db,"users",a.uid));e.exists()&&y(e.data())}catch(e){console.error("Error loading user profile:",e)}}return(0,s.useEffect)(()=>(0,l.hg)(n.j2,async e=>{c(e),e?await g():y(null),d(!1)}),[]),(0,r.jsx)(i.Provider,{value:{currentUser:a,userProfile:m,signup:x,login:h,logout:p,resetPassword:f,updateUserProfile:b,loadUserProfile:g},children:!u&&t})}},7327:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},7828:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7994:(e,t,a)=>{Promise.resolve().then(a.bind(a,9252))},9252:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var r=a(5155),s=a(2115),l=a(2619),o=a.n(l),n=a(63),i=a(6809),c=a(4486),u=a(508),d=a(3664),m=a(7327),y=a(532),x=a(7828),h=a(2663);let p=()=>{let[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[p,f]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),[w,v]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[A,k]=(0,s.useState)(!1),{signup:C}=(0,i.A)(),S=(0,n.useRouter)(),P=async t=>{if(t.preventDefault(),!e||!a||!p||!b)return void h.Ay.error("Please fill in all fields");if(p!==b)return void h.Ay.error("Passwords do not match");if(p.length<6)return void h.Ay.error("Password must be at least 6 characters");try{k(!0),await C(a,p,e),h.Ay.success("Account created successfully!"),S.push("/dashboard")}catch(e){console.error("Registration error:",e),h.Ay.error(e.message||"Failed to create account")}finally{k(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,r.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,r.jsx)(o(),{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:P,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(u.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"displayName",name:"displayName",type:"text",autoComplete:"name",required:!0,value:e,onChange:e=>t(e.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(d.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:e=>l(e.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(m.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"password",name:"password",type:w?"text":"password",autoComplete:"new-password",required:!0,value:p,onChange:e=>f(e.target.value),className:"appearance-none relative block w-full pl-10 pr-10 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>v(!w),children:w?(0,r.jsx)(y.A,{className:"h-5 w-5 text-gray-400"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"mt-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(m.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:j?"text":"password",autoComplete:"new-password",required:!0,value:b,onChange:e=>g(e.target.value),className:"appearance-none relative block w-full pl-10 pr-10 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password"}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>N(!j),children:j?(0,r.jsx)(y.A,{className:"h-5 w-5 text-gray-400"}):(0,r.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})})]})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:A,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:A?(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create Account"})})]})]})})}}},e=>{e.O(0,[135,210,584,416,619,663,441,255,358],()=>e(e.s=7994)),_N_E=e.O()}]);